{"ast":null,"code":"var _jsxFileName = \"/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/budget/IHM/src/components/footer.js\";\nimport React, { Component } from 'react';\nimport config from \"../config\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\"; // import * as userActions from '../redux/actions/user-action';\n// import * as dialogActions from '../redux/actions/dialogActions';\n// import dialogType from \"../service/constants/dialogTypeRef\";\n// import IntranetDialog from './dialogs/dialog';\n// import {isAuthenticated, updateLastActivity} from \"../service/userService\";\n\nclass Footer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lastSavedMoveInRedux: Date.now(),\n      sessionTime: 60 //session time in minute\n\n    };\n    this.handlingOnMouseMove = this.handlingOnMouseMove.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"mousemove\", this.handlingOnMouseMove);\n  }\n\n  componentWillUnmount() {\n    this.detachEventListener();\n  }\n\n  handlingOnMouseMove(event) {\n    let now = Date.now(); // if (this.props.user.isLogged === true) {\n    //   if ((now - this.state.lastSavedMoveInRedux) > 1000 * 30) {//do it every 30 seconds\n    //     this.setState({lastSavedMoveInRedux: now});\n    // isAuthenticated(this.props.user.user.guid).then(authenticated => {\n    //   if (authenticated === false) {\n    //     this.generateAutomaticLogout();\n    //   } else {\n    //     updateLastActivity(this.props.user.user.guid);\n    //   }\n    // });\n    // }\n    // }\n  }\n\n  generateAutomaticLogout() {\n    let guid = this.props.user.user.guid; // this.props.dispatch(userActions.logout(guid));\n    // this.props.dispatch(dialogActions.updateDialogAndShow(dialogType.AUTOMATIC_LOGOUT));\n  }\n\n  detachEventListener() {\n    if (document.removeEventListener) {\n      // For all major browsers, except IE 8 and earlier\n      window.removeEventListener(\"mousemove\", this.handlingOnMouseMove);\n    } else if (document.detachEvent) {\n      // For IE 8 and earlier versions\n      document.detachEvent(\"onmousemove\", this.handlingOnMouseMove);\n    }\n  }\n\n  render() {\n    const styles = {\n      footer: {\n        padding: \"2px\",\n        backgroundColor: \"#575756\",\n        alignItems: \"center\",\n        flexShrink: 0,\n        display: 'flex'\n      },\n      copyright: {\n        display: \"flex\",\n        alignItems: \"center\",\n        flex: \"0 0 auto\",\n        fontSize: \"10px\",\n        color: \"#ffffff\",\n        marginLeft: \"8px\",\n        margin: \"3px 0px 1px 3px\"\n      },\n      progress: {\n        flex: \"1 1 auto\"\n      }\n    };\n    return React.createElement(\"div\", {\n      style: styles.footer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: styles.copyright,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" \\xA9budget by F. HOONAKKER \", config.version));\n  }\n\n}\n\nconst routedFooter = withRouter(Footer);\nexport default connect(store => {\n  return {\n    user: store.user\n  };\n})(routedFooter);","map":{"version":3,"sources":["/home/hoonakker/Dropbox/dvt/projet-JAVASCRIPT/budget/IHM/src/components/footer.js"],"names":["React","Component","config","withRouter","connect","Footer","constructor","props","state","lastSavedMoveInRedux","Date","now","sessionTime","handlingOnMouseMove","bind","componentDidMount","window","addEventListener","componentWillUnmount","detachEventListener","event","generateAutomaticLogout","guid","user","document","removeEventListener","detachEvent","render","styles","footer","padding","backgroundColor","alignItems","flexShrink","display","copyright","flex","fontSize","color","marginLeft","margin","progress","version","routedFooter","store"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,OAAR,QAAsB,aAAtB,C,CACA;AACA;AACA;AACA;AACA;;AAGA,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAE7BK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,oBAAoB,EAAEC,IAAI,CAACC,GAAL,EADX;AAEXC,MAAAA,WAAW,EAAE,EAFF,CAEM;;AAFN,KAAb;AAIA,SAAKC,mBAAL,GAA2B,KAAKA,mBAAL,CAAyBC,IAAzB,CAA8B,IAA9B,CAA3B;AACD;;AAEDC,EAAAA,iBAAiB,GAAS;AACxBC,IAAAA,MAAM,CAACC,gBAAP,CAAwB,WAAxB,EAAqC,KAAKJ,mBAA1C;AACD;;AAEDK,EAAAA,oBAAoB,GAAG;AACrB,SAAKC,mBAAL;AACD;;AAEDN,EAAAA,mBAAmB,CAACO,KAAD,EAAQ;AAEzB,QAAIT,GAAG,GAAGD,IAAI,CAACC,GAAL,EAAV,CAFyB,CAGzB;AACA;AACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACF;AACF;AACD;;AAEDU,EAAAA,uBAAuB,GAAG;AACxB,QAAIC,IAAI,GAAG,KAAKf,KAAL,CAAWgB,IAAX,CAAgBA,IAAhB,CAAqBD,IAAhC,CADwB,CAExB;AACA;AACD;;AAEDH,EAAAA,mBAAmB,GAAG;AACpB,QAAIK,QAAQ,CAACC,mBAAb,EAAkC;AAChC;AACAT,MAAAA,MAAM,CAACS,mBAAP,CAA2B,WAA3B,EAAwC,KAAKZ,mBAA7C;AACD,KAHD,MAGO,IAAIW,QAAQ,CAACE,WAAb,EAA0B;AAC/B;AACAF,MAAAA,QAAQ,CAACE,WAAT,CAAqB,aAArB,EAAoC,KAAKb,mBAAzC;AACD;AACF;;AAEDc,EAAAA,MAAM,GAAG;AACP,UAAMC,MAAM,GAAG;AACbC,MAAAA,MAAM,EAAE;AACNC,QAAAA,OAAO,EAAE,KADH;AAENC,QAAAA,eAAe,EAAE,SAFX;AAGNC,QAAAA,UAAU,EAAE,QAHN;AAINC,QAAAA,UAAU,EAAE,CAJN;AAKNC,QAAAA,OAAO,EAAE;AALH,OADK;AAQbC,MAAAA,SAAS,EAAE;AACTD,QAAAA,OAAO,EAAE,MADA;AAETF,QAAAA,UAAU,EAAE,QAFH;AAGTI,QAAAA,IAAI,EAAE,UAHG;AAITC,QAAAA,QAAQ,EAAE,MAJD;AAKTC,QAAAA,KAAK,EAAE,SALE;AAMTC,QAAAA,UAAU,EAAE,KANH;AAOTC,QAAAA,MAAM,EAAE;AAPC,OARE;AAiBbC,MAAAA,QAAQ,EAAE;AACRL,QAAAA,IAAI,EAAE;AADE;AAjBG,KAAf;AAqBA,WACE;AAAK,MAAA,KAAK,EAAER,MAAM,CAACC,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,KAAK,EAAED,MAAM,CAACO,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAwDjC,MAAM,CAACwC,OAA/D,CADF,CADF;AAYD;;AAtF4B;;AAyF/B,MAAMC,YAAY,GAAGxC,UAAU,CAACE,MAAD,CAA/B;AACA,eAAeD,OAAO,CAACwC,KAAK,IAAI;AAC9B,SAAO;AACLrB,IAAAA,IAAI,EAAEqB,KAAK,CAACrB;AADP,GAAP;AAGD,CAJqB,CAAP,CAIZoB,YAJY,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport config from \"../config\";\nimport {withRouter} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\n// import * as userActions from '../redux/actions/user-action';\n// import * as dialogActions from '../redux/actions/dialogActions';\n// import dialogType from \"../service/constants/dialogTypeRef\";\n// import IntranetDialog from './dialogs/dialog';\n// import {isAuthenticated, updateLastActivity} from \"../service/userService\";\n\n\nclass Footer extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      lastSavedMoveInRedux: Date.now(),\n      sessionTime: 60, //session time in minute\n    };\n    this.handlingOnMouseMove = this.handlingOnMouseMove.bind(this);\n  }\n\n  componentDidMount(): void {\n    window.addEventListener(\"mousemove\", this.handlingOnMouseMove);\n  }\n\n  componentWillUnmount() {\n    this.detachEventListener();\n  }\n\n  handlingOnMouseMove(event) {\n\n    let now = Date.now();\n    // if (this.props.user.isLogged === true) {\n    //   if ((now - this.state.lastSavedMoveInRedux) > 1000 * 30) {//do it every 30 seconds\n    //     this.setState({lastSavedMoveInRedux: now});\n        // isAuthenticated(this.props.user.user.guid).then(authenticated => {\n        //   if (authenticated === false) {\n        //     this.generateAutomaticLogout();\n        //   } else {\n        //     updateLastActivity(this.props.user.user.guid);\n        //   }\n        // });\n      // }\n    // }\n  }\n\n  generateAutomaticLogout() {\n    let guid = this.props.user.user.guid;\n    // this.props.dispatch(userActions.logout(guid));\n    // this.props.dispatch(dialogActions.updateDialogAndShow(dialogType.AUTOMATIC_LOGOUT));\n  }\n\n  detachEventListener() {\n    if (document.removeEventListener) {\n      // For all major browsers, except IE 8 and earlier\n      window.removeEventListener(\"mousemove\", this.handlingOnMouseMove);\n    } else if (document.detachEvent) {\n      // For IE 8 and earlier versions\n      document.detachEvent(\"onmousemove\", this.handlingOnMouseMove);\n    }\n  }\n\n  render() {\n    const styles = {\n      footer: {\n        padding: \"2px\",\n        backgroundColor: \"#575756\",\n        alignItems: \"center\",\n        flexShrink: 0,\n        display: 'flex',\n      },\n      copyright: {\n        display: \"flex\",\n        alignItems: \"center\",\n        flex: \"0 0 auto\",\n        fontSize: \"10px\",\n        color: \"#ffffff\",\n        marginLeft: \"8px\",\n        margin: \"3px 0px 1px 3px\",\n      },\n      progress: {\n        flex: \"1 1 auto\"\n      }\n    };\n    return (\n      <div style={styles.footer}>\n        <div style={styles.copyright}> Â©budget by F. HOONAKKER {config.version}</div>\n        {/*<div style={{*/}\n        {/*  ...styles.copyright,*/}\n        {/*  flex: 1,*/}\n        {/*  justifyContent: 'flex-end',*/}\n        {/*  paddingRight: '15px'*/}\n        {/*}}>{\"allowance: \" + JSON.stringify(this.props.user.user.allowance) + \" manager_allowance: \" + JSON.stringify(this.props.user.user.managerAllowance)}</div>*/}\n        {/*<IntranetDialog/>*/}\n      </div>\n    );\n  }\n}\n\nconst routedFooter = withRouter(Footer);\nexport default connect(store => {\n  return {\n    user: store.user,\n  };\n})(routedFooter);\n"]},"metadata":{},"sourceType":"module"}